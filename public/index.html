<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Noah &amp; Lauren</title>

  <!-- Favicon -->
  <link rel="icon" href="images/nl.ico" type="image/x-icon">

  <!-- Social / Open Graph -->
  <meta property="og:title" content="Noah & Lauren">
  <meta property="og:description" content="Join Noah in surprising Lauren to celebrate their engagement!">
  <meta property="og:image" content="images/social.png">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Noah & Lauren">
  <meta name="twitter:description" content="Join Noah in surprising Lauren to celebrate their engagement!">
  <meta name="twitter:image" content="images/social.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- ───────── Main Evite Screen ───────── -->
  <main class="evite">
    <div class="evite__photo">
      <img src="images/couple.jpg" alt="Noah and Lauren" class="evite__img" onerror="this.style.display='none'">
    </div>

    <div class="evite__content">
      <p class="evite__prelude">You're invited</p>

      <h1 class="evite__names">Noah &amp; Lauren</h1>

      <p class="evite__announce">Join Noah in surprising Lauren to celebrate their engagement</p>

      <div class="evite__details">
        <div class="evite__detail">
          <span class="evite__label">Date</span>
          <span class="evite__value">Saturday, April 18, 2026</span>
        </div>
        <div class="evite__detail">
          <span class="evite__label">Time</span>
          <span class="evite__value">6:00 PM</span>
        </div>
        <div class="evite__detail">
          <span class="evite__label">Location</span>
          <span class="evite__value"><a href="https://cubanu.com/" target="_blank" class="evite__link">Cubanu</a><br><a href="https://maps.google.com/?q=1467+Main+St+Rahway+NJ+07065" target="_blank" class="evite__link">1467 Main St. Rahway, NJ 07065</a></span>
        </div>
      </div>

      <button class="evite__rsvp-btn" id="openRsvp">RSVP</button>

      <p class="evite__footnote">It's a surprise!</p>
    </div>
  </main>

  <!-- ───────── RSVP Modal ───────── -->
  <div class="modal" id="rsvpModal" aria-hidden="true">
    <div class="modal__backdrop" id="modalBackdrop"></div>
    <div class="modal__dialog" role="dialog" aria-label="RSVP">
      <button class="modal__close" id="modalClose" aria-label="Close">&times;</button>

      <!-- Step 1: Name Entry -->
      <div class="modal__step" id="step1">
        <h2 class="modal__title">Find Your Name</h2>
        <p class="modal__subtitle">Enter your name to RSVP</p>
        <form id="nameForm" autocomplete="off">
          <input type="text" id="nameInput" class="modal__input" placeholder="Your name" required autofocus>
          <button type="submit" class="modal__btn modal__btn--primary">Search</button>
        </form>
        <div id="nameError" class="modal__error" hidden></div>
        <div id="disambiguate" class="modal__disambiguate" hidden>
          <p class="modal__subtitle">Did you mean…</p>
          <ul id="disambiguateList" class="modal__name-list"></ul>
        </div>
      </div>

      <!-- Step 2: Guest Checklist -->
      <div class="modal__step" id="step2" hidden>
        <h2 class="modal__title">Your Party</h2>
        <p class="modal__subtitle" id="groupLabel">Select who will be attending:</p>
        <form id="checklistForm">
          <ul id="guestChecklist" class="modal__checklist"></ul>
          <div class="modal__add-guest">
            <label for="additionalGuests" class="modal__add-label">Additional guests:</label>
            <input type="text" id="additionalGuests" class="modal__input modal__input--small" placeholder="e.g. John's girlfriend Sarah">
            <button type="button" id="addGuestBtn" class="modal__btn modal__btn--small">Add</button>
            <ul id="additionalList" class="modal__additional-list"></ul>
          </div>
          <div class="modal__actions">
            <button type="button" class="modal__btn modal__btn--secondary" id="backToStep1">Back</button>
            <button type="submit" class="modal__btn modal__btn--primary" id="submitRsvpBtn">Submit RSVP</button>
          </div>
        </form>
      </div>

      <!-- Step 3: Confirmation -->
      <div class="modal__step" id="step3" hidden>
        <h2 class="modal__title">Review &amp; Confirm</h2>
        <div id="confirmSummary" class="modal__summary"></div>
        <div class="modal__actions">
          <button type="button" class="modal__btn modal__btn--secondary" id="backToStep2">Back</button>
          <button type="button" class="modal__btn modal__btn--primary" id="confirmBtn">Confirm</button>
        </div>
      </div>

      <!-- Step 4: Success -->
      <div class="modal__step" id="step4" hidden>
        <div class="modal__success">
          <h2 class="modal__title">You're All Set!</h2>
          <div id="successSummary" class="modal__summary"></div>
          <p class="modal__change-link">Need to make changes? <a href="#" id="restartRsvp">Update your RSVP</a></p>
          <button type="button" class="modal__btn modal__btn--primary" id="closeSuccess">Done</button>
        </div>
      </div>

      <!-- Loading / Error States -->
      <div class="modal__step" id="stepLoading" hidden>
        <div class="modal__loader">
          <div class="spinner"></div>
          <p>Submitting…</p>
        </div>
      </div>

      <div class="modal__step" id="stepError" hidden>
        <h2 class="modal__title">Oops</h2>
        <p class="modal__subtitle" id="errorMessage">Something went wrong. Please try again.</p>
        <button type="button" class="modal__btn modal__btn--primary" id="errorRetry">Try Again</button>
      </div>
    </div>
  </div>

  <!-- ───────── Scripts ───────── -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
  <script src="js/firebase-config.js"></script>
  <script src="js/fuzzy-match.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
